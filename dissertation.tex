\documentclass[11pt,a4paper,twoside,openright]{report}
\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage[margin=25mm]{geometry}

\usepackage{graphicx}
\usepackage{minted}
\usepackage{amsmath}
\usepackage{xfrac}
\usepackage{subcaption}
\usepackage{prftree}
\usepackage{verbatim}
\usepackage{makecell}
\usepackage{titlesec}
\usepackage{todonotes}
\usepackage{caption}
\usepackage{pdfpages}
\usepackage{subfiles}
\usepackage{titlesec}
\usepackage{tikz}
\usetikzlibrary{arrows}

\raggedbottom % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

% Reduce spacing around the chapter names
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{-20pt}{40pt}

% Allow paragraphs to be numbered
\setcounter{secnumdepth}{4}
\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

\newmintinline[monospace]{text}{escapeinside=\#\#, mathescape}
\newmintinline[haskell]{haskell}{escapeinside=\#\#, mathescape}
\newmintinline[java]{java}{escapeinside=\#\#, mathescape}
\newminted[monospacefigure]{text}{linenos, frame=lines, framesep=2mm, autogobble, escapeinside=\#\#, mathescape}
\newminted[haskellfigure]{haskell}{linenos, frame=lines, framesep=2mm, autogobble, escapeinside=\#\#, mathescape}
\newminted[javafigure]{java}{linenos, frame=lines, framesep=2mm, autogobble, escapeinside=\#\#, mathescape}

\renewcommand{\baselinestretch}{1.1} % adjust line spacing to make more readable

\begin{document}

\bibliographystyle{plain}


\pagestyle{empty}

\rightline{\LARGE \textbf{Keith Collister}}

\vspace*{60mm}
\begin{center}
\Huge
\textbf{An Optimising Compiler from Haskell to Java Bytecode} \\[5mm]
Computer Science Tripos -- Part II \\[5mm]
Robinson College \\[5mm]
\today  % today's date
\end{center}

\pagestyle{plain}

\chapter*{Declaration of Originality}
\subfile{declarationoriginality}

\chapter*{Proforma}
\subfile{proforma}

\tableofcontents

\pagestyle{headings}

\chapter{Introduction}

\chapter{Preparation}

\chapter{Implementation}
\subfile{implementation}

\chapter{Evaluation}
\subfile{evaluation}

\chapter{Conclusion}


\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{refs}

\appendix

\chapter{Project Proposal}

\newpage

\subfile{proposal}

\end{document}