\documentclass[11pt,a4paper,twoside,openright]{report}
\usepackage[pdfborder={0 0 0}]{hyperref}
\usepackage[margin=25mm]{geometry}

\usepackage{graphicx}
\usepackage{minted}
\usepackage{amsmath}
\usepackage{xfrac}
\usepackage{subcaption}
\usepackage{prftree}
\usepackage{verbatim}
\usepackage{makecell}
\usepackage{titlesec}
\usepackage{todonotes}
\usepackage{caption}
\usepackage{pdfpages}
\usepackage{subfiles}
\usepackage{titlesec}
\usepackage[toc]{appendix}
\usepackage{tikz}
\usetikzlibrary{arrows}

\raggedbottom % try to avoid widows and orphans
\sloppy
\clubpenalty1000%
\widowpenalty1000%

% Reduce spacing around the chapter names
\titleformat{\chapter}[display]
{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
\titlespacing*{\chapter}{0pt}{-20pt}{40pt}

% Allow paragraphs to be numbered
\setcounter{secnumdepth}{4}
\titleformat{\paragraph}
{\normalfont\normalsize\bfseries}{\theparagraph}{1em}{}
\titlespacing*{\paragraph}
{0pt}{3.25ex plus 1ex minus .2ex}{1.5ex plus .2ex}

% Don't indent paragraphs
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt}

\newmintinline[monospace]{text}{escapeinside=\#\#, mathescape}
\newmintinline[haskell]{haskell}{escapeinside=\#\#, mathescape}
\newmintinline[java]{java}{escapeinside=\#\#, mathescape}
\newminted[monospacefigure]{text}{linenos, frame=lines, framesep=2mm, autogobble, escapeinside=\#\#, mathescape}
\newminted[haskellfigure]{haskell}{linenos, frame=lines, framesep=2mm, autogobble, escapeinside=\#\#, mathescape}
\newminted[javafigure]{java}{linenos, frame=lines, framesep=2mm, autogobble, escapeinside=\#\#, mathescape}

\renewcommand{\baselinestretch}{1.1} % adjust line spacing to make more readable


\definecolor{gitgreen}{HTML}{28A745}
\definecolor{gitred}{HTML}{CB2431}
\newcommand{\additions}[1]{\textcolor{gitgreen}{\monospace{#1++}}}
\newcommand{\deletions}[1]{\textcolor{gitred}{\monospace{#1--}}}
\newcommand{\gitstats}[2]{\additions{#1}, \deletions{#2}}

\newcommand\doubleplus{+\kern-1.3ex+\kern0.8ex}

\begin{document}

\bibliographystyle{plain}


\pagestyle{empty}

\rightline{\LARGE \textbf{Keith Collister}}

\vspace*{60mm}
\begin{center}
\Huge
\textbf{An Optimising Compiler from Haskell to Java Bytecode} \\[5mm]
Computer Science Tripos -- Part II \\[5mm]
Robinson College \\[5mm]
\today  % today's date
\end{center}

\pagestyle{plain}

\chapter*{Declaration of Originality}
\subfile{declarationoriginality}

\chapter*{Proforma}
\subfile{proforma}

\tableofcontents

\pagestyle{headings}

\chapter{Introduction}\label{sec:introduction}
\subfile{introduction}

\chapter{Preparation}\label{sec:preparation}
\subfile{preparation}

\chapter{Implementation}\label{sec:implementation}
\subfile{implementation}

\chapter{Evaluation}\label{sec:evaluation}
\subfile{evaluation}

\chapter{Conclusion}\label{sec:conclusion}
\subfile{conclusion}


\addcontentsline{toc}{chapter}{Bibliography}
\bibliography{refs}

\subfile{appendices}

\chapter{Project Proposal}

\newpage

\subfile{proposal}

\end{document}